@page "/products"
@using MudBlazor

<MudPaper Elevation="2" Class="pa-6" Style="width:100%; max-width:1600px; margin:auto;">
    <!-- Заголовок и кнопка -->
    <div class="customers-header">
        <MudText Typo="Typo.h4" Class="font-weight-bold">Товары</MudText>
        <MudButton Variant="Variant.Filled"
                   Color="Color.Primary"
                   StartIcon="@Icons.Material.Filled.Add"
                   Size="Size.Large"
                   Class="btn-large">
            Новый товар
        </MudButton>
    </div>

    <!-- Поиск -->
    <MudTextField T="string"
                  Label="Поиск"
                  Margin="Margin.Dense"
                  Adornment="Adornment.End"
                  Immediate="true"
                  Class="mb-4 full-width" />

    <!-- Контент -->
    <MudTable Items="@products"
        Hover="true"
        Dense="true"
        Striped="true"
        Class="elevation-1 rounded-lg full-width customers-table">

        <HeaderContent>
            <MudTh>Название</MudTh>
            <MudTh>Категория</MudTh>
            <MudTh>Цена</MudTh>
            <MudTh>Остаток</MudTh>
            <MudTh Class="text-center">Действия</MudTh>
        </HeaderContent>

        <RowTemplate>
            <MudTd>@context.Name</MudTd>
            <MudTd>@context.Category</MudTd>
            <MudTd>@context.Price.ToString("C")</MudTd>
            <MudTd>@context.Stock</MudTd>
            <MudTd Class="text-center">
                <MudIconButton Icon="@Icons.Material.Filled.Edit"
                               Color="Color.Info"
                               Size="Size.Small"
                               Title="Редактировать" />
                <MudIconButton Icon="@Icons.Material.Filled.Delete"
                               Color="Color.Error"
                               Size="Size.Small"
                               Title="Удалить" />
            </MudTd>
        </RowTemplate>

        <PagerContent>
            <MudTablePager PageSizeOptions="new int[]{10, 25, 50}" 
                           RowsPerPageString="Записей на странице:"
                           OfText="из"
                           AllItemsText="Все" />
        </PagerContent>
    </MudTable>
</MudPaper>

@code {
    private List<Product> products = new();

    protected override void OnInitialized()
    {
        products = new List<Product>
        {
            new Product { Name = "Ноутбук", Category = "Электроника", Price = 1200, Stock = 15 },
            new Product { Name = "Мышь", Category = "Аксессуары", Price = 25, Stock = 100 },
            new Product { Name = "Клавиатура", Category = "Аксессуары", Price = 75, Stock = 50 }
        };
    }

    public class Product
    {
        public string Name { get; set; } = string.Empty;
        public string Category { get; set; } = string.Empty;
        public decimal Price { get; set; }
        public int Stock { get; set; }
    }
}